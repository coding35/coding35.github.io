<article>
  <p>
    Depending on the message queue implementation, the size of the message
    payload is likely to be limited. This is usually done to prevent
    overwhelming the message queuing system. Given message queues work best with
    small messages (less than 1MB), a question is raised on how to efficiently
    handle larger messages. One solution is to use the claim check pattern. In
    this pattern, the message queue only handles a reference to the message and
    the message payload is stored in a separate location. This is very
    comparable to a vehicle valet or coat check at a hotel. The vehicle or coat
    is checked in and a ticket is given to the customer. The customer can then
    leave the vehicle or coat with the hotel and retrieve it later using the
    only the ticket.
  </p>
  <p>
    This strategy reduces the demand on the message queuing system, reduces
    costs, and can also improve performance, reliability, and in some cases
    security.
  </p>
  <p>
    When considering the use of the claim check pattern, there are a few things
    to keep in mind:
  </p>
  <ul>
    <li>
      How to manage the storage of the message payload. This can be done using a
      file system, a database, or a specialized storage system.
    </li>
    <li>
      How to deal with message payloads in general.
      <ul>
        <li>When transferring large files, use a file transfer protocol.</li>
        <li>When transferring large data sets, use a database.</li>
        <li>
          When transferring a large numbers of small messages using a
          publish/subscribe pattern.
        </li>
      </ul>
    </li>
  </ul>
  <h4>Reference</h4>
  <ul>
    <li>
        Microsoft. (n.d.). Claim-Check pattern - azure architecture center. Azure
        Architecture Center | Microsoft Learn. Retrieved March 5, 2030, from
        https://learn.microsoft.com/en-us/azure/architecture/patterns/claim-check
      </li>
  </ul>
</article>
